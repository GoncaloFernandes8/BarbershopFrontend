import{f as s,o as p,r as b,ya as c}from"./chunk-UJJHZF2K.js";var m=class n{http=b(c);API="https://due-constancia-goncalo-6b7726ec.koyeb.app";getAppointmentById(t){return this.http.get(`${this.API}/appointments/${t}`)}getServiceById(t){return this.http.get(`${this.API}/services/${t}`)}getServices(){return this.http.get(`${this.API}/services`)}getBarberById(t){return this.getBarbers().pipe(s(e=>e.find(r=>r.id===t)))}getBarbers(){return this.http.get(`${this.API}/barbers`)}getAvailability(t,e,r){return this.http.get(`${this.API}/availability`,{params:{barberId:t,serviceId:e,date:r}})}createAppointment(t){return this.http.post(`${this.API}/appointments`,t,{observe:"response"}).pipe(s(e=>{let r=e.body?.id;if(typeof r=="string"&&r.length)return r;let i=e.headers.get("Location")||e.headers.get("location");if(i){try{let a=new URL(i,this.API).pathname.split("/").filter(Boolean).pop();if(a)return a}catch{}let o=i.match(/\/([^\/\?]+)(?:\?.*)?$/);if(o)return o[1]}throw new Error("O servidor n\xE3o devolveu o ID da marca\xE7\xE3o.")}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};export{m as a};
